<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment Writer Agent</title>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>Assignment Writer Agent ✍️</h1>
            <p>Your personal assistant for generating handwritten assignments.</p>
        </header>

        <!-- The form tag is now just a container -->
        <div id="assignmentForm">
            <fieldset>
                <legend>Step 1: Write and Format Your Text</legend>
                <div id="editor-container">
                    <div id="editor">
                        <p>To,</p><p>The Principal,</p><p>[School Name],</p><p>[City].</p><p><br></p><p class="ql-align-center"><strong>Subject: Application for Leave</strong></p><p><br></p><p>Respected Sir/Madam,</p><p>I am writing to request a leave of absence for [number] days, from [start date] to [end date], due to [reason for leave].</p><p><br></p><p>Thank you for your consideration.</p><p><br></p><p class="ql-align-right">Yours Sincerely,</p><p class="ql-align-right">[Your Name]</p><p class="ql-align-right">[Your Class/Roll No.]</p>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>Step 2: Choose Paper Style</legend>
                <div class="radio-group">
                    <label><input type="radio" name="paper" value="A4 Sheet" checked required> Plain A4 Sheet</label>
                    <label><input type="radio" name="paper" value="A4 Sheet Lined"> Lined A4 Sheet</label>
                </div>
            </fieldset>

            <fieldset>
                <legend>Step 3: Choose Ink Color</legend>
                <div class="avatar-group">
                    <input type="radio" id="inkBlue" name="ink" value="Blue" checked required>
                    <label for="inkBlue" class="avatar-label"><img src="https://i.ibb.co/L5Bf6f0/blue-avatar.png" alt="Blue Ink Avatar"><div class="avatar-text">Blue</div></label>
                    <input type="radio" id="inkBlack" name="ink" value="Black" required>
                    <label for="inkBlack" class="avatar-label"><img src="https://iili.io/F7HCpqP.md.png" alt="Black Ink Avatar"><div class="avatar-text">Black</div></label>
                    <input type="radio" id="inkRed" name="ink" value="Red" required>
                    <label for="inkRed" class="avatar-label"><img src="https://iili.io/F7HouF1.md.png" alt="Red Ink Avatar"><div class="avatar-text">Red</div></label>
                </div>
            </fieldset>

            <fieldset>
                <legend>Step 4: Select Handwriting Style</legend>
                <div class="radio-group">
                    <label><input type="radio" name="handwriting" value="Handwriting 1" data-url="https://raw.githubusercontent.com/Eden-Global/Assigment-writer/main/Assets/fonts/Handwriting1.ttf" checked required> Style 1 (Neat)</label>
                    <label><input type="radio" name="handwriting" value="Handwriting 2" data-url="https://raw.githubusercontent.com/Eden-Global/Assigment-writer/main/Assets/fonts/Handwriting2.ttf" required> Style 2 (Casual)</label>
                    <label><input type="radio" name="handwriting" value="Handwriting 3" data-url="https://raw.githubusercontent.com/Eden-Global/Assigment-writer/main/Assets/fonts/Handwriting3.ttf" required> Style 3 (Bold)</label>
                    <label><input type="radio" name="handwriting" value="Handwriting 4" data-url="https://raw.githubusercontent.com/Eden-Global/Assigment-writer/main/Assets/fonts/Handwriting4.ttf" required> Style 4 (Cursive)</label>
                </div>
            </fieldset>

            <!-- THIS IS THE CRUCIAL CHANGE: type="button" instead of type="submit" -->
            <button type="button" id="generateBtn">Generate Assignment</button>
        </div>

        <div id="loading" class="hidden"><img src="Assets/images/writing_animation.gif" alt="Writing Animation"><p>Your agent is writing the assignment...</p></div>
        <div id="result" class="hidden"></div>
    </div>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/docx@8.5.0/build/index.js"></script>
    <script src="script.js"></script>
</body>
        </html>
